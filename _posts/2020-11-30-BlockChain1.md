---
layout: post
title: "[BLOCKCHAIN] 블록체인 개념 이해"
date: 2020-11-30 00:00:00
categories: [SOPHOMORE]
tags: [STUDY]
last_modified_at: 2020-11-30
---

### 4차 산업혁명

#### 4차 산업혁명
<p>
- 인공지능, 딥러닝 : 데이터 처리 및 가치 창출, 신경망, 반복적인 일
<br>- 블록체인 : 데이터 공유
<br>- 빅데이터 : 데이터 생산 및 저장
<br>- IOT : 사물 인터넷, 데이터 수집
<br>- 로봇
<br>- CPS (cyber physical system)
<br>- 5G 통신망
<br>
<br>* 인공지능 + 블록체인 : 데이터를 쌓고 저장, 예측
<br>=> 데이터가 있는 모든 서비스에 연관
<br>
<br>* 블록체인은 신뢰를 기반으로 하는 기술
<br>=> 데이터를 공유, 추적, 확인 가능
<br>=> 데이터 혁명
<br>
<br>* 블록체인으로 CPS + 빅데이터 + IOT + 인공지능를 묶어 비즈니스 모델을 만듬.
</p>

---

#### AI 알파고 충격
<p>
- AlphaGo Lee는 이세돌 9단과 대국에서 승리함.
<br>- AlphaGo Zero는 비지도학습으로 만든 알파고의 최종 버전.
<br>- 빅데이터 학습이 필요없는 인공지능의 등장의 의의
</p>

---
---

### 블록체인 개요

#### 최초의 블록체인 기반 시스템 비트코인
<p>
사토시 나카모토라는 가명을 쓰는 사람(단체로 추정)이 세계 최초의 암호화폐인 비트코인을 만듬.
<br>2008년 11월 1일 '비트코인 : 개인 대 개인의 전자화폐 시스템'이라는 논문을 작성.
<br>그리고 이 논문을 제 3자의 신용보증인이 필요없는 P2P 전자화폐시스템을 개발했다는 메일과 함께 암호학 전문가들에게 보냄.
<br>당시 비트코인의 기본 구조 : 비트코인 코어는 암호화폐인 비트코인을 생성하고 비트코인 거래를 블록체인 형태로 기록하도록 설계됨.
<br>블록체인 기록을 검증한 대가로 두어지는 보상이 새로 생성된 비트코인.
<br>이후 P2P 네트워크로 디지털 화폐에 대한 이중 지불 문제를 처음으로 해결.
</p>

<p>
2009년 1월 3일에 최초의 비트코인 블록인 제네시스 블록이 탄생함.
<br>그리고 그는 0번 블록에 '2009년 1월 3일, 은행을 위한 두 번째 긴급 구제 방안 발표 임박'이라는 메세지를 남김.
<br>즉 중앙화된 자본주의 시장의 폐해를 비트코인으로 해결하겠다는 의지를 나타냄.
<br>이후 암호학 전문가인 할 피니만과 함께 비트코인이 실제로 구동됨을 증명.
<br>결국 사토시는 기존의 P2P 통신 기술, 합의 알고리즘(POW, 작업증명), 공인 인증서 기술 등을 혼합해 블록체인 기술을 만들고 이를 비트코인으로 증명.
</p>

---

#### 비트코인
<p>
- 최초로 블록체인 기술을 활용해 성공적으로 만들어진 암호화폐
<br>- 분산화된 P2P기반의 디지털 가상 화폐
<br>- 국경 구분 없이 빠른 거래 가능
<br>- 송금 수수료가 적음
<br>- 채굴 시스템에 의해 사용자들이 관리
<br>- 채굴되는 총량은 2100만 BTC로 제한
<br>- 10분 마다 거래 내역이 갱신되어 해킹 어려움.
</p>

---

#### 블록체인의 지속 가능성
<p>
: 분산화된 사회 + 정보의 비대칭성 + 딥러닝과 연계하여 연합학습도 가능.
<br>Johann Gevers - The Four Pillars of a Decentralized Society
</p>

---

#### 블록체인 개념
<p>
* 블록체인의 기본 개념
<br>: 모든 거래 기록이 중앙 중개자 없이 숨김과 오류 없이 모두가 확인 가능
<br>: 거래가 담긴 블록이 사슬 모양으로 늘어선 것
</p>

<p>
* 블록체인이 하려는 것
<br>: 신뢰성 있는 데이터베이스에 접근하여 쓰는 것을 목표
<br>: 트랜스액션, 타임스탬프, 스마트컨트랙트 등등
</p>

<p>
* 블록체인이 대신하려는 것
<br>: 신뢰할 수 있는 중앙 데이터 베이스를 분산 합의로 대체
<br>: 데이터 베이스 사태를 다수결로 업데이트
</p>

<p>
* 개념1. 해쉬
<br>: 해쉬 함수(SHA-256)는 블록데이터를 받아, 고정된 길이의 랜덤 데이터를 생성.
<br>: 입력의 변화는 출력에 랜덤하게 나타남.
<br>: 일방향 함수라 출력값으로 입력값을 추척할 수 없음.
<br>: 대신 해쉬값이 같으면 같은 객체임을 알 수 있음.
</p>

<p>
* 게임1. 체인 레이스
<br>
<br>- 해쉬 기반의 작업 증명
<br>: 출력 해쉬값 중에서 N개의 0으로 시작하는 결과를 얻기 위해 2^N의 연산이 필요.
<br>: 우리는 input값을 가장 먼저 찾아야함
<br>
<br>- 논스값 찾기/ 해쉬 루프
<br>= 새로운 블록을 만들 알고리즘.
<br>
<br>1. 이전 블록 해쉬 값들을 확인.
<br>2. 랜덤한 논스를 이용하여 새로운 블록을 만듬
<br>3. 새로운 블록을 해쉬한 결과가 N개의 0으로 시작하면, 모두에게 알림.
<br>
<br>- 블록을 생성했다는 것은 플레이어가 열심히 해쉬연산을 진행했음을 의미.
<br>- 가짜 해쉬를 만들 수 있지만, 모든 플레이어들이 확인하고 이를 체인에서 배제할 수 있음.
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\1.png" alt="Midnight"></center>
</figure>

<p>
* 개념2. 시그니처
<br>: Signing Key에는 Private과 Public part가 있음.
<br>
<br>* 거래 생성
<br>: 플레이어 ID는 퍼블릭키
<br>: 거래에 사인을 넣고 모두에게 전송 가능.
<br>: 사인된 거래는 변경 불가하며 실제 주인은 알 수 없음.
</p>

<p>
* 게임2. 거래를 블록에 넣는 작업
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\2.png" alt="Midnight"></center>
</figure>

<p>
* 게임3. 거래를 블록에 넣어 사기를 막음
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\3.png" alt="Midnight"></center>
</figure>

<p>
* 게임4. 단순화된 비트코인
<br>: 플레이어 = 채굴자, 포인트 = 비트코인
<br>: 트랜스액션은 비트코인을 지갑에서 지갑으로 보냄.
<br>: 체인 레이스 게임(블록체인)은 중앙 관리자 없이도 정해진 금액보다 더 많은 금액을 보내지 못하게 만듬.
<br>: 플레이어의 합의로 중앙관리자를 없앰.
<br>: 블록 생성에 성공하면 포인트를 줌.
</p>

<p>
* 실제 운영 상황
<br>: 저렴한 메모리와 네트워크를 가정
<br>(풀노드는 모든 트랜스액션을 저장, 트랜스액션과 블록은 브로드캐스팅됨)
<br>: 트랜스액션은 느림
<br>: 프라이빗키를 컨트롤 해야함
<br>(프라이빗키를 잃어버린다 = 코인을 사용할 수 없다)
</p>

<p>
* 비트코인 이후
<br>: 트랜스액션에 실행코드, 스마트 컨트랙트(이더리움)을 추가하거나, 랜덤데이터를 타임스탬프 할 수 있음.
</p>

<p>
* 이중 지불 방지
<br>- 정당한 블록 찾기
<br>: 가장 긴 체인이 정당
<br>(Double Spending 문제 해결)
<br>(합의 -Power of Work)
</p>

---

#### 비트코인 개념

<p>
* 거래와 기록 장부
<br>- 거래는 지갑 sw/app 에서 발생시킴.
<br>: 소유주(송신자)가 개인키를 사용하여 거래를 생성, 그의 공개키와 수신자 주소를 함께 네트워크에 방송.
<br>- 거래 처리자 =  채굴자
<br>: 1. 정상적인 돈인지 검증
<br>: 2. 동봉된 공개키로 소유주 입증
<br>: 3. 거래 내용이 공개 장부에 기록되면 송신 종료
<br>- 수신자 수령
<br>: 수신자는 공개장부에 접근하여 입금과 잔고 확인
</p>

<p>
* 내 지갑(통장)의 코인 잔고
<br>: 실제 코인이 들어있지 않고, 잔고만 있음.
<br>: 돈이 이동한 기록 3개가 독립적으로 있는 것
</p>

<p>
* 코인 사용
<br>: 과거의 거래 기록으로부터 새로운 거래 기록(송금)을 만듬.
<br>: 과거와 현재의 거래는 블록과 트랜스액션으로 연결됨.
<br>: 정해진 돈보다 더 많은 돈을 가져갔다가 남은 돈은 다시 돌아옴.
</p>

<p>
* 거래
<br>: 내 주소에서 내가 가진 코인 기록을 지움.
<br>: 송금액 만큼의 수신인의 새 코인 기록을 만듬.
<br>: 잔액만큼의 내 코인 기록도 새로 만듬.
<br>: 수신인의 비트코인 주소에 들어간 금액 + 내 주소의 잔액 기록
<br>: 출력인덱스, 코인량(금액), 수신자 주소(공개키해쉬)를 기록
<br>: 수신된 코인 = UTXO(Unspent Transaction Output)
</p>

<p>
* UTXO 코인 사용(새 거래 생성)
<br>: 입력 - 이전 본인 UTXO코인 정보(이전거래 ID, 출력 번호, 코인량)을 참조
<br>: 출력 - 출력번호, 수신자 + 송금액을 기록
<br>: 생성된 거래를 비트코인 네트워크에 발송
<br>: 이때 받는 사람은 송금이 시작되었다는 것을 알게되지만, 확인 X(블록등록 X)
<br>: 송금 수수료 = 입력 금액의 합 - 출력 금액의 합
</p>

<p>
* PKI 개념
<br>: 인터넷이 다양한 용도로 활용되기 시작하면서, 안전한 커뮤니케이션 환경이 필요.
<br>=> 공개키 기반 구조(Public Key Infrastructure, PKI)
<br>=> 공개키를 통한 암호화 + 전자서명
<br>ex) 고객과 인터넷 쇼밍 사이트를 어떻게 신뢰하는가? 거래 내용은 비밀 보장이 되는가? 본인이 주문한 것은 맞는가? 부인하면 어떻게 하는가?
</p>

<p>
* PKI
<br>: 전자상거래나 정보유통의 안전성과 신뢰성을 확보하기 위한 시스템으로, 상대방의 신원을 확인하고 비밀 유지기능과 부인봉쇄 기능을 제공.
<br>: 암호화와 복호화키로 구성된 공개키를 이용하여, 송수신 데이터를 암호화하고 전자 서명을 통해 사용자를 인증.
<br>: 안전한 사용을 위해서 키의 생성과 인증, 그리고 분배와 관리가 진행되는 체계가 필요 = PKI
<br>: 핵심은 공개키를 인증하는 구조이며 CA(Certificate Authority)가 있음.
<br>: 퍼블릭 블록체인에서는 PKI가 필요없고 전자서명만 사용. 공개키가 거래 생성의 주소임으로 조작하면 본인의 손해.
</p>

<p>
* 관용암호(대칭키)와 공개키(비대칭키) 암호
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\4.png" alt="Midnight"></center>
</figure>

<p>
* 공개키 알고리즘(Elliptic Curve Cryptography)
<br>: 공개키 사용한 암호
</p>
<figure>
  <center><img src="/Fortune\assets\BlockChain\5.png" alt="Midnight"></center>
</figure>

<p>: 공개키 사용한 인증</p>
<figure>
  <center><img src="/Fortune\assets\BlockChain\6.png" alt="Midnight"></center>
</figure>

<p>
* PKI의 기본구조
<br>: PKI = 공개키 암호화 + 전자 서명
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\7.png" alt="Midnight"></center>
</figure>

<p>
* 전자서명(Digital Signature)
<br>: 디지털 데이터 스트림으로 구성된 서명키 이용방식
<br>: 위조, 변조, 부인 불가
</p>

<p>
* 전자성명 체계
<br>: 송신자
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\8.png" alt="Midnight"></center>
</figure>

<p>
: 수신자
</p>

<figure>
  <center><img src="/Fortune\assets\BlockChain\9.png" alt="Midnight"></center>
</figure>

<p>
* PKI 구성요소
<br>- 공개키 알고리즘
<br>: 비대칭키 암호화 알고리즘으로 메시지의 암호화 및 서명에 사용.
<br>
<br>- 공개키 인증서(Public-key Certificate)
<br>: 공개키에 관한 정보와 인증기관의 서명
<br>: 공개키의 무결성, 신빙성을 보증
<br>
<br>- 인증기관(CA)
<br>: 인증 객체에 대한 인증서를 발급 또는 폐기.
<br>: 신뢰된 인증기관에서 발급한 인증서는 공개키와 공개키의 주체를 연결시켜주는 고리
<br>: 공개된 인증서 보관소에 인증서를 저장.
</p>

<br>
<br>
